@using Fluxor.Blazor.Web.Components

@inherits FluxorComponent

@if(_cachedHtmlElementRecord is not null)
{
    <div class="bwmt_theme-wrapping @GetCssClasses()">
        <div class="bwmt_grid-display"
             style="@_cachedHtmlElementRecord.DimensionsRecord.BuildCssStyleString()">

             <BlazorWindowManager.RazorClassLibrary.Html.RenderCounter RenderCount="_renderCount" />
            @if(IsResizable)
            {
                <BlazorWindowManager.RazorClassLibrary.Transformative.TransformativeDisplay HtmlElementRecord="_cachedHtmlElementRecord" />
            }

            @if(GridRecord.GridWindowRecords.Any())
            {
                foreach(var row in GridRecord.GridWindowRecords)
                {
                    foreach(var column in row)
                    {
                       <BlazorWindowManager.RazorClassLibrary.Grid.HelperComponents.GridWindowDisplay GridWindowRecord="column" />
                    }
                }
            }
            else
            {
                <h3>The Grid has no windows open</h3>
                <h3 style="cursor: pointer;"
                    @onclick="OnAddWindowToGridOnClickAsync">
                    Click Here to Add Window to this grid
                </h3>
            }
        </div>
    </div>
}